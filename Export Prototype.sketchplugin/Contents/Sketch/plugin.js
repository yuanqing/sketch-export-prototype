!function(e,t){for(var r in t)e[r]=t[r]}(this,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=10)}([function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"CHECK_BOX",function(){return m}),r.d(n,"DROP_DOWN",function(){return g}),r.d(n,"RADIO_BUTTONS",function(){return N}),r.d(n,"NUMERIC_TEXT_BOX",function(){return F.a}),r.d(n,"TEXT_BOX",function(){return P});var i=r(1);function o(e){const t={};return function e(t,r,n){Object.keys(t).forEach(function(i){const o=[r,i].filter(Boolean).join("."),a=t[i];"object"!=typeof a||null===a||Array.isArray(a)?n[o]=t[i]:e(a,o,n)})}(e,null,t),t}const a=/\./;function c(e){const t={};return Object.keys(e).forEach(function(r){!function e(t,r,n){const i=t[0];if(1===t.length)return void(n[i]=r);null==n[i]&&(n[i]={});e(t.slice(1),r,n[i])}(r.split(a),e[r],t)}),t}function s(){const e={outputDirectoryPath:"~/Desktop/Sketch Prototypes",showHotspots:!0,showNavigation:!0,viewportHeight:null,viewportWidth:null};if(!e)return{};const t={},r=o(e);return Object.keys(r).forEach(function(e){const n=Object(i.sessionVariable)(e),o=Object(i.settingForKey)(e),a=void 0!==n?n:o,c=r[e];t[e]=void 0!==a?a:c}),c(t)}const u=1,l=10,f=17;const p=2,h=20,d=2;const y=20,S=10;function m({width:e,y:t,label:r,value:n}){const i=NSButton.alloc().initWithFrame(NSMakeRect(0,t,e,y));return i.setButtonType(NSSwitchButton),i.setBezelStyle(0),i.setState(n?NSOnState:NSOffState),i.setTitle(r),{view:i,height:y+S,retrieveValue:function(){return"1"==i.stringValue()}}}const x=20,b=15;function g({width:e,y:t,value:r,possibleValues:n}){const i=NSPopUpButton.alloc().initWithFrame(NSMakeRect(0,t,e,x));n.forEach(function(e){i.addItemWithTitle(`${e}`)});const o=void 0!==r?n.indexOf(r):0;return i.selectItemAtIndex(o),{view:i,height:x+b,retrieveValue:function(){const e=i.indexOfSelectedItem();return n[e]}}}const v=20,w=10;function N({width:e,y:t,value:r,possibleValues:n}){const i=NSButtonCell.alloc().init();i.setButtonType(NSRadioButton);const o=n.length,a=NSMatrix.alloc().initWithFrame_mode_prototype_numberOfRows_numberOfColumns(NSMakeRect(0,t,e,v),NSRadioModeMatrix,i,1,o);a.setCellSize(CGSizeMake(Math.floor(e/o),v)),a.cells().forEach(function(e,t){e.setTitle(n[t])});const c=void 0!==r?n.indexOf(r):0;return a.selectCellAtRow_column(0,c),{view:a,height:v+w,retrieveValue:function(){const e=a.cells().indexOfObject(a.selectedCell());return n[e]}}}var F=r(6),O=r(4);const P=Object(O.a)(),_=300;function k({title:e,formFields:t}){const r=o(s()),{formView:i,retrieveValues:a}=function({formFieldsConfig:e,settings:t}){const r=NSView.alloc().init();r.setFlipped(!0);const i={};let o=0;e.forEach(function(e){if("-"===e){const{view:e,height:t}=function({width:e,y:t}){const r=NSView.alloc().initWithFrame(NSMakeRect(0,t+l,e,u));return r.setWantsLayer(1),r.layer().setBackgroundColor(CGColorCreateGenericRGB(127/255,127/255,127/255,.5)),{view:r,height:l+u+f}}({width:_,y:o});return o+=t,void r.addSubview(e)}const{type:a,key:c,label:s,value:y,...S}=e;if(s&&"CHECK_BOX"!==a){const{view:e,height:t}=function({width:e,y:t,label:r}){const n=NSTextField.alloc().initWithFrame(NSMakeRect(0,t+p,e,h));return n.setBezeled(!1),n.setDrawsBackground(!1),n.setEditable(!1),n.setLineBreakMode(NSLineBreakByTruncatingTail),n.setSelectable(!1),n.setStringValue(r),{view:n,height:p+h+d}}({width:_,y:o,label:s});o+=t,r.addSubview(e)}const m=t[c],x=null!=y?y:m,{view:b,height:g,retrieveValue:v}=n[a]({width:_,y:o,label:s,value:x,...S});o+=g,r.addSubview(b),i[c]=v});const a=r.subviews();return a.forEach(function(e,t){t<a.length-1&&e.setNextKeyView(a[t+1])}),r.setFrame(NSMakeRect(0,0,_,o)),{formView:r,retrieveValues:i}}({formFieldsConfig:t.filter(Boolean),settings:r}),y=function(e){const t=NSAlert.alloc().init();return t.setMessageText(e),t.addButtonWithTitle("OK"),t.addButtonWithTitle("Cancel"),t}(e||"Settings");y.setAccessoryView(i);const S=i.subviews();if(S[0]&&y.window().setInitialFirstResponder(S[0]),"1000"==y.runModal()){const e={};return Object.keys(a).forEach(function(t){const r=a[t];e[t]=r()}),c(e)}return null}var M=r(5),E=r.n(M);function A(e){E.a.message(`âœ” ${e}`)}function D(){const e={outputDirectoryPath:"~/Desktop/Sketch Prototypes",showHotspots:!0,showNavigation:!0,viewportHeight:null,viewportWidth:null};if(!e)return;const t=o(e);var r;Object.keys(t).forEach(function(e){Object(i.setSettingForKey)(e,void 0),Object(i.setSessionVariable)(e,void 0)}),r="Reset settings",E.a.message(r)}const T=I(i.setSettingForKey);I(i.setSessionVariable);function I(e){return function(t){if(!t)return;const r=o(t);Object.keys(r).forEach(function(t){const n=r[t];null!=n&&e(t,n)})}}r(7),r(8);var j=r(9);r(3);function R(){const e=NSApplication.sharedApplication().orderedDocuments();return Object(j.fromNative)(e[0])}function B(){return R().pages}function C(e,t){e.forEach(function(e){t(e);const r=e.type;"Artboard"!==r&&"Group"!==r||C(e.layers,t)})}function W(e,t){for(;null!=e.parent&&"Page"!==e.parent.type;)t(e.parent),e=e.parent}function L(e){return"Page"===e.parent.type?null:function e(t,r){const n=t.parent;if("Artboard"===n.type)return r;const i={x:r.x+n.frame.x,y:r.y+n.frame.y};return e(n,i)}(e,{x:e.frame.x,y:e.frame.y})}function V(){return`${process.env.HOME}/Library/Application Support/com.bohemiancoding.sketch3/Plugins/Export Prototype.sketchplugin`}function $(){return`${V()}/Contents/Resources`}r.d(t,"h",function(){return s}),r.d(t,"k",function(){return k}),r.d(t,"l",function(){return D}),r.d(t,"m",function(){return T}),r.d(t,"a",function(){return"CHECK_BOX"}),r.d(t,"b",function(){return"DROP_DOWN"}),r.d(t,"c",function(){return"TEXT_BOX"}),r.d(t,"g",function(){return $}),r.d(t,"f",function(){return R}),r.d(t,"i",function(){return C}),r.d(t,"j",function(){return W}),r.d(t,"d",function(){return L}),r.d(t,"e",function(){return B}),r.d(t,"n",function(){return A})},function(e,t){e.exports=require("sketch/settings")},function(e,t,r){var n=r(12).Buffer,i=r(13),o=i.parseStat,a=i.fsError,c=i.fsErrorForPath,s=i.encodingFromOptions,u=i.NOT_IMPLEMENTED;e.exports.constants={F_OK:0,R_OK:4,W_OK:2,X_OK:1},e.exports.access=u("access"),e.exports.accessSync=function(t,r){r|=0;var n=NSFileManager.defaultManager();switch(r){case 0:canAccess=e.exports.existsSync(t);break;case 1:canAccess=Boolean(Number(n.isExecutableFileAtPath(t)));break;case 2:canAccess=Boolean(Number(n.isWritableFileAtPath(t)));break;case 3:canAccess=Boolean(Number(n.isExecutableFileAtPath(t)))&&Boolean(Number(n.isWritableFileAtPath(t)));break;case 4:canAccess=Boolean(Number(n.isReadableFileAtPath(t)));break;case 5:canAccess=Boolean(Number(n.isReadableFileAtPath(t)))&&Boolean(Number(n.isExecutableFileAtPath(t)));break;case 6:canAccess=Boolean(Number(n.isReadableFileAtPath(t)))&&Boolean(Number(n.isWritableFileAtPath(t)));break;case 7:canAccess=Boolean(Number(n.isReadableFileAtPath(t)))&&Boolean(Number(n.isWritableFileAtPath(t)))&&Boolean(Number(n.isExecutableFileAtPath(t)))}if(!canAccess)throw new Error("Can't access "+String(t))},e.exports.appendFile=u("appendFile"),e.exports.appendFileSync=function(t,r,i){if(!e.exports.existsSync(t))return e.exports.writeFileSync(t,r,i);var o=NSFileHandle.fileHandleForWritingAtPath(t);o.seekToEndOfFile();var a=s(i,"utf8"),c=n.from(r,"NSData"===a||"buffer"===a?void 0:a).toNSData();o.writeData(c)},e.exports.chmod=u("chmod"),e.exports.chmodSync=function(e,t){var r=MOPointer.alloc().init();if(NSFileManager.defaultManager().setAttributes_ofItemAtPath_error({NSFilePosixPermissions:t},e,r),null!==r.value())throw c(e,void 0,r.value())},e.exports.chown=u("chown"),e.exports.chownSync=u("chownSync"),e.exports.close=u("close"),e.exports.closeSync=u("closeSync"),e.exports.copyFile=u("copyFile"),e.exports.copyFileSync=function(e,t,r){var n=MOPointer.alloc().init();if(NSFileManager.defaultManager().copyItemAtPath_toPath_error(e,t,n),null!==n.value())throw c(e,!1,n.value())},e.exports.createReadStream=u("createReadStream"),e.exports.createWriteStream=u("createWriteStream"),e.exports.exists=u("exists"),e.exports.existsSync=function(e){var t=NSFileManager.defaultManager();return Boolean(Number(t.fileExistsAtPath(e)))},e.exports.fchmod=u("fchmod"),e.exports.fchmodSync=u("fchmodSync"),e.exports.fchown=u("fchown"),e.exports.fchownSync=u("fchownSync"),e.exports.fdatasync=u("fdatasync"),e.exports.fdatasyncSync=u("fdatasyncSync"),e.exports.fstat=u("fstat"),e.exports.fstatSync=u("fstatSync"),e.exports.fsync=u("fsync"),e.exports.fsyncSync=u("fsyncSync"),e.exports.ftruncate=u("ftruncate"),e.exports.ftruncateSync=u("ftruncateSync"),e.exports.futimes=u("futimes"),e.exports.futimesSync=u("futimesSync"),e.exports.lchmod=u("lchmod"),e.exports.lchmodSync=u("lchmodSync"),e.exports.lchown=u("lchown"),e.exports.lchownSync=u("lchownSync"),e.exports.link=u("link"),e.exports.linkSync=function(e,t){var r=MOPointer.alloc().init();if(NSFileManager.defaultManager().linkItemAtPath_toPath_error(e,t,r),null!==r.value())throw c(e,void 0,r.value())},e.exports.lstat=u("lstat"),e.exports.lstatSync=function(e){var t=MOPointer.alloc().init(),r=NSFileManager.defaultManager().attributesOfItemAtPath_error(e,t);if(null!==t.value())throw c(e,void 0,t.value());return o(r)},e.exports.mkdir=u("mkdir"),e.exports.mkdirSync=function(e,t){var r=511,n=!1;t&&t.mode&&(r=t.mode),t&&t.recursive&&(n=t.recursive),"number"==typeof t&&(r=t);var i=MOPointer.alloc().init();if(NSFileManager.defaultManager().createDirectoryAtPath_withIntermediateDirectories_attributes_error(e,n,{NSFilePosixPermissions:r},i),null!==i.value())throw new Error(i.value())},e.exports.mkdtemp=u("mkdtemp"),e.exports.mkdtempSync=function(t){var r=t+function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<6;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}();return e.exports.mkdirSync(r),r},e.exports.open=u("open"),e.exports.openSync=u("openSync"),e.exports.read=u("read"),e.exports.readdir=u("readdir"),e.exports.readdirSync=function(e,t){for(var r=s(t,"utf8"),i=NSFileManager.defaultManager().subpathsAtPath(e),o=[],a=0;a<i.length;a++){var c=i[a];o.push("buffer"===r?n.from(c):String(c))}return o},e.exports.readFile=u("readFile"),e.exports.readFileSync=function(e,t){var r=s(t,"buffer"),i=NSFileManager.defaultManager().contentsAtPath(e);if(!i)throw c(e,!1);var o=n.from(i);return"buffer"===r?o:"NSData"===r?o.toNSData():o.toString(r)},e.exports.readlink=u("readlink"),e.exports.readlinkSync=function(e){var t=MOPointer.alloc().init(),r=NSFileManager.defaultManager().destinationOfSymbolicLinkAtPath_error(e,t);if(null!==t.value())throw c(e,void 0,t.value());return String(r)},e.exports.readSync=u("readSync"),e.exports.realpath=u("realpath"),e.exports.realpath.native=u("realpath.native"),e.exports.realpathSync=function(e){return String(NSString.stringWithString(e).stringByResolvingSymlinksInPath())},e.exports.realpathSync.native=u("realpathSync.native"),e.exports.rename=u("rename"),e.exports.renameSync=function(e,t){var r=MOPointer.alloc().init(),n=NSFileManager.defaultManager();n.moveItemAtPath_toPath_error(e,t,r);var i=r.value();if(null!==i){if("NSCocoaErrorDomain"!==String(i.domain())||516!==Number(i.code()))throw c(e,void 0,i);var o=MOPointer.alloc().init();if(n.replaceItemAtURL_withItemAtURL_backupItemName_options_resultingItemURL_error(NSURL.fileURLWithPath(t),NSURL.fileURLWithPath(e),null,NSFileManagerItemReplacementUsingNewMetadataOnly,null,o),null!==o.value())throw c(e,void 0,o.value())}},e.exports.rmdir=u("rmdir"),e.exports.rmdirSync=function(t){var r=MOPointer.alloc().init(),n=NSFileManager.defaultManager();if(!e.exports.lstatSync(t).isDirectory())throw a("ENOTDIR",{path:t,syscall:"rmdir"});if(n.removeItemAtPath_error(t,r),null!==r.value())throw c(t,!0,r.value(),"rmdir")},e.exports.stat=u("stat"),e.exports.statSync=function(t){return e.exports.lstatSync(e.exports.realpathSync(t))},e.exports.symlink=u("symlink"),e.exports.symlinkSync=function(e,t){var r=MOPointer.alloc().init();NSFileManager.defaultManager().createSymbolicLinkAtPath_withDestinationPath_error(t,e,r);if(null!==r.value())throw new Error(r.value())},e.exports.truncate=u("truncate"),e.exports.truncateSync=function(e,t){var r=NSFileHandle.fileHandleForUpdatingAtPath(sFilePath);r.truncateFileAtOffset(t||0),r.closeFile()},e.exports.unlink=u("unlink"),e.exports.unlinkSync=function(t){var r=MOPointer.alloc().init(),n=NSFileManager.defaultManager();if(e.exports.lstatSync(t).isDirectory())throw a("EPERM",{path:t,syscall:"unlink"});n.removeItemAtPath_error(t,r);if(null!==r.value())throw c(t,!1,r.value())},e.exports.unwatchFile=u("unwatchFile"),e.exports.utimes=u("utimes"),e.exports.utimesSync=function(e,t,r){var n=MOPointer.alloc().init();NSFileManager.defaultManager().setAttributes_ofItemAtPath_error({NSFileModificationDate:t},e,n);if(null!==n.value())throw c(e,void 0,n.value())},e.exports.watch=u("watch"),e.exports.watchFile=u("watchFile"),e.exports.write=u("write"),e.exports.writeFile=u("writeFile"),e.exports.writeFileSync=function(e,t,r){var i=s(r,"utf8");n.from(t,"NSData"===i||"buffer"===i?void 0:i).toNSData().writeToFile_atomically(e,!0)},e.exports.writeSync=u("writeSync")},function(e,t){e.exports=require("sketch/dom")},function(e,t,r){"use strict";r.d(t,"a",function(){return o});const n=20,i=15;function o(e){return function({width:t,y:r,value:o,placeholder:a}){const c=NSTextField.alloc().initWithFrame(NSMakeRect(0,r,t,n)),s=null==o?"":`${o}`;return c.setStringValue(s),a&&c.setPlaceholderString(a),{view:c,height:n+i,retrieveValue:function(){const t=`${c.stringValue()}`;return e?e(t):t}}}}},function(e,t){e.exports=require("sketch/ui")},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return createNumericTextBox});var _text_box_factory__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4);const createNumericTextBox=Object(_text_box_factory__WEBPACK_IMPORTED_MODULE_0__.a)(function(value){return parseFloat(eval(value))})},function(e,t){e.exports=function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}},function(e,t,r){"use strict";const n=async(e,t)=>{let r=0;for(const n of e)await t(await n,r++);return e};e.exports=n,e.exports.default=n},function(e,t){e.exports=require("sketch")},function(e,t,r){e.exports=r(11)},function(e,t,r){e.exports={"export-prototype/export-prototype":r(16).default,"export-prototype/settings/settings":r(14).default,"export-prototype/settings/reset-settings":r(15).default}},function(e,t){e.exports=require("buffer")},function(e,t){e.exports.parseStat=function(e){return{dev:String(e.NSFileDeviceIdentifier),mode:e.NSFileType|e.NSFilePosixPermissions,nlink:Number(e.NSFileReferenceCount),uid:String(e.NSFileOwnerAccountID),gid:String(e.NSFileGroupOwnerAccountID),size:Number(e.NSFileSize),atimeMs:1e3*Number(e.NSFileModificationDate.timeIntervalSince1970()),mtimeMs:1e3*Number(e.NSFileModificationDate.timeIntervalSince1970()),ctimeMs:1e3*Number(e.NSFileModificationDate.timeIntervalSince1970()),birthtimeMs:1e3*Number(e.NSFileCreationDate.timeIntervalSince1970()),atime:new Date(1e3*Number(e.NSFileModificationDate.timeIntervalSince1970())+.5),mtime:new Date(1e3*Number(e.NSFileModificationDate.timeIntervalSince1970())+.5),ctime:new Date(1e3*Number(e.NSFileModificationDate.timeIntervalSince1970())+.5),birthtime:new Date(1e3*Number(e.NSFileCreationDate.timeIntervalSince1970())+.5),isBlockDevice:function(){return e.NSFileType===NSFileTypeBlockSpecial},isCharacterDevice:function(){return e.NSFileType===NSFileTypeCharacterSpecial},isDirectory:function(){return e.NSFileType===NSFileTypeDirectory},isFIFO:function(){return!1},isFile:function(){return e.NSFileType===NSFileTypeRegular},isSocket:function(){return e.NSFileType===NSFileTypeSocket},isSymbolicLink:function(){return e.NSFileType===NSFileTypeSymbolicLink}}};var r={EPERM:{message:"operation not permitted",errno:-1},ENOENT:{message:"no such file or directory",errno:-2},EACCES:{message:"permission denied",errno:-13},ENOTDIR:{message:"not a directory",errno:-20},EISDIR:{message:"illegal operation on a directory",errno:-21}};function n(e,t){var n=new Error(e+": "+r[e].message+", "+(t.syscall||"")+(t.path?" '"+t.path+"'":""));return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.code=e,n.errno=r[e].errno,n}e.exports.fsError=n,e.exports.fsErrorForPath=function(t,r,i,o){var a=NSFileManager.defaultManager();if(!a.fileExistsAtPath(t))return n("ENOENT",{path:t,syscall:o||"open"});if(!a.isReadableFileAtPath(t))return n("EACCES",{path:t,syscall:o||"open"});if(void 0!==r){var c=e.exports.lstatSync(t).isDirectory();if(c&&!r)return n("EISDIR",{path:t,syscall:o||"read"});if(!c&&r)return n("ENOTDIR",{path:t,syscall:o||"read"})}return new Error(i||"Unknown error while manipulating "+t)},e.exports.encodingFromOptions=function(e,t){return e&&e.encoding?String(e.encoding):e?String(e):t},e.exports.NOT_IMPLEMENTED=function(e){return function(){throw new Error("fs."+e+" is not implemented yet. If you feel like implementing it, any contribution will be gladly accepted on https://github.com/skpm/fs")}}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",function(){return o});var n=r(0);const i={title:"Settings for Export Prototype",formFields:[{type:n.a,key:"showHotspots",label:"Show hotspots"},{type:n.a,key:"showNavigation",label:"Show navigation"},{type:n.c,key:"outputDirectoryPath",label:"Output directory"}]};function o(){const e=Object(n.k)(i);e&&(Object(n.m)(e),Object(n.n)("Saved settings"))}},function(e,t,r){"use strict";r.r(t);var n=r(0);t.default=n.l},function(e,t,r){"use strict";r.r(t);var n=r(0),i=r(2);const o=3,a="png",c="assets/images",s="assets/data.js";function u(e){return`${c}/${e}@${o}x.${a}`}function l({flow:e}){if(!e)return{};const{targetId:t,animationType:r}=e;return{hotspot:{targetId:t,animationType:"none"===r?"appear":r}}}var f=r(3);function p(e){return function(t){t.forEach(function({layer:t}){t.hidden=!e})}}const h=p(!0),d=p(!1);function y({layer:e,outputDirectoryPath:t}){Object(f.export)(e,{formats:a,scales:o,output:`${t}/${c}`,"use-id-for-name":!0})}function S({pages:e,outputDirectoryPath:t,config:r}){const o=[],a=[];e.forEach(function(e){if(e.isSymbolsPage())return;const r=[];[...e.layers].reverse().forEach(function(e){if("Artboard"!==e.type)return;const i=e;i.flowStartPoint&&o.push(i.id);const a=[],c=[];Object(n.i)(i.layers,function(e){if(!e.hidden)if(m(e))a.push({hasImage:!0,layer:e});else if(e.flow){if(function(e){let t=!1;return Object(n.j)(e,function(e){t||m(e)&&(t=!0)}),t}(e))return void a.push({hasImage:!1,layer:e});c.push(e)}});const s=function({artboard:e,fixedLayers:t,hotspotLayers:r}){const{width:i,height:o}=e.frame;return{id:e.id,name:e.name,isStartPoint:!0===e.flowStartPoint,image:{fileName:u(e.id),width:i,height:o},fixedLayers:t.map(function({hasImage:e,layer:t}){const{width:r,height:i}=t.frame,{x:o,y:a}=Object(n.d)(t);return{fileName:e?u(t.id):null,width:r,height:i,x:o,y:a,...l(t)}}),hotspotLayers:r.map(function(e){const{width:t,height:r}=e.frame,{x:i,y:o}=Object(n.d)(e);return{width:t,height:r,x:i,y:o,...l(e)}})}}({artboard:i,fixedLayers:a,hotspotLayers:c});r.push(s),function({artboard:e,fixedLayers:t,outputDirectoryPath:r}){t.forEach(function({hasImage:e,layer:t}){e&&y({layer:t,outputDirectoryPath:r})}),d(t),y({layer:e,outputDirectoryPath:r}),h(t)}({artboard:i,fixedLayers:a,outputDirectoryPath:t})}),a.push({name:e.name,id:e.id,artboards:r})}),function({outputDirectoryPath:e,data:t}){const r=`${e}/${s}`,n=`window.__SKETCH_PROTOTYPE_DATA__=${JSON.stringify(t)}\n`;Object(i.writeFileSync)(r,n)}({outputDirectoryPath:t,data:{...r,startPointArtboardIds:o,pages:a}})}function m(e){return 1===e.sketchObject.isFixedToViewport()}const x={"index.html":"index.html","script.js":"assets/script.js","style.css":"assets/style.css"};function b(){const e=Object(n.e)(),{widths:t,heights:r}=function(e){const t=[],r=[];return e.forEach(function(e){e.isSymbolsPage()||e.layers.forEach(function(e){if("Artboard"!==e.type)return;const n=e.sketchObject.preset();if(!n)return;const i=n.width();-1===t.indexOf(i)&&t.push(i);const o=n.height();-1===r.indexOf(o)&&r.push(o)})}),{widths:t.sort(),heights:r.sort()}}(e);let o=t[0],a=r[0];if(1!==t.length||1!==r.length){const e={title:"Export Prototype",formFields:[{type:n.b,key:"viewportWidth",label:"Viewport width",possibleValues:t},{type:n.b,key:"viewportHeight",label:"Viewport height",possibleValues:r}]},i=Object(n.k)(e);if(!i)return;o=i.viewportWidth,a=i.viewportHeight}const c=Object(n.h)(),s=function(e){const t=Object(n.f)().sketchObject.fileURL().lastPathComponent(),r=g.exec(t)[1];return`${e.replace(v,process.env.HOME)}/${r}`}(c.outputDirectoryPath);Object(i.existsSync)(s)&&Object(i.rmdirSync)(s),S({pages:e,outputDirectoryPath:s,config:{viewportWidth:o,viewportHeight:a,showHotspots:c.showHotspots,showNavigation:c.showNavigation}}),function(e){const t=Object(n.g)();Object.keys(x).forEach(function(r){const n=x[r];Object(i.copyFileSync)(`${t}/${r}`,`${e}/${n}`)})}(s),Object(n.n)(`Built prototype in ${s}`)}r.d(t,"default",function(){return b});const g=/([^.]+).sketch$/g,v=/~/}]));